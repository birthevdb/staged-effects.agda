<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Scoped.State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Scoped.State.html" class="Module">Scoped.State</a> <a id="21" class="Keyword">where</a>

<a id="28" class="Keyword">open</a> <a id="33" class="Keyword">import</a> <a id="40" href="Function.html" class="Module">Function</a>

<a id="50" class="Keyword">open</a> <a id="55" class="Keyword">import</a> <a id="62" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Data.Product.html" class="Module">Data.Product</a>
<a id="97" class="Keyword">open</a> <a id="102" class="Keyword">import</a> <a id="109" href="Data.Sum.html" class="Module">Data.Sum</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Scoped.Sig.html" class="Module">Scoped.Sig</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="Scoped.Prog.html" class="Module">Scoped.Prog</a>

<a id="167" class="Keyword">module</a> <a id="174" href="Scoped.State.html#174" class="Module">_</a> <a id="176" class="Keyword">where</a>

  <a id="185" class="Keyword">open</a> <a id="190" href="Scoped.Sig.html#184" class="Module">Sig</a>
  
  <a id="199" class="Keyword">data</a> <a id="204" href="Scoped.State.html#204" class="Datatype">StateCmd</a> <a id="213" class="Symbol">(</a><a id="214" href="Scoped.State.html#214" class="Bound">S</a> <a id="216" class="Symbol">:</a> <a id="218" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="221" class="Symbol">)</a> <a id="223" class="Symbol">:</a> <a id="225" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="229" class="Keyword">where</a>
    <a id="239" href="Scoped.State.html#239" class="InductiveConstructor">`get</a> <a id="244" class="Symbol">:</a> <a id="246" href="Scoped.State.html#204" class="Datatype">StateCmd</a> <a id="255" href="Scoped.State.html#214" class="Bound">S</a>
    <a id="261" href="Scoped.State.html#261" class="InductiveConstructor">`put</a> <a id="266" class="Symbol">:</a> <a id="268" class="Symbol">(</a><a id="269" href="Scoped.State.html#269" class="Bound">s</a> <a id="271" class="Symbol">:</a> <a id="273" href="Scoped.State.html#214" class="Bound">S</a><a id="274" class="Symbol">)</a> <a id="276" class="Symbol">→</a> <a id="278" href="Scoped.State.html#204" class="Datatype">StateCmd</a> <a id="287" href="Scoped.State.html#214" class="Bound">S</a>

  <a id="292" href="Scoped.State.html#292" class="Function">StateSig</a> <a id="301" class="Symbol">:</a> <a id="303" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="307" class="Symbol">→</a> <a id="309" href="Scoped.Sig.html#184" class="Record">Sig</a>
  <a id="315" href="Scoped.Sig.html#213" class="Field">C</a> <a id="317" class="Symbol">(</a><a id="318" href="Scoped.State.html#292" class="Function">StateSig</a> <a id="327" href="Scoped.State.html#327" class="Bound">S</a><a id="328" class="Symbol">)</a> <a id="330" class="Symbol">=</a> <a id="332" href="Scoped.State.html#204" class="Datatype">StateCmd</a> <a id="341" href="Scoped.State.html#327" class="Bound">S</a>
  <a id="345" href="Scoped.Sig.html#225" class="Field">R</a> <a id="347" class="Symbol">(</a><a id="348" href="Scoped.State.html#292" class="Function">StateSig</a> <a id="357" href="Scoped.State.html#357" class="Bound">S</a><a id="358" class="Symbol">)</a> <a id="360" href="Scoped.State.html#239" class="InductiveConstructor">`get</a> <a id="365" class="Symbol">=</a> <a id="367" href="Scoped.State.html#357" class="Bound">S</a>
  <a id="371" href="Scoped.Sig.html#225" class="Field">R</a> <a id="373" class="Symbol">(</a><a id="374" href="Scoped.State.html#292" class="Function">StateSig</a> <a id="383" href="Scoped.State.html#383" class="Bound">S</a><a id="384" class="Symbol">)</a> <a id="386" class="Symbol">(</a><a id="387" href="Scoped.State.html#261" class="InductiveConstructor">`put</a> <a id="392" href="Scoped.State.html#392" class="Bound">s</a><a id="393" class="Symbol">)</a> <a id="395" class="Symbol">=</a> <a id="397" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>

  <a id="402" class="Keyword">variable</a> <a id="411" href="Scoped.State.html#411" class="Generalizable">S</a> <a id="413" class="Symbol">:</a> <a id="415" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  
  <a id="424" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="429" class="Symbol">:</a> <a id="431" href="Scoped.State.html#411" class="Generalizable">S</a> <a id="433" class="Symbol">→</a> <a id="435" href="Scoped.Prog.html#158" class="Datatype">Prog</a> <a id="440" class="Symbol">(</a><a id="441" href="Scoped.State.html#292" class="Function">StateSig</a> <a id="450" href="Scoped.State.html#411" class="Generalizable">S</a> <a id="452" href="Scoped.Sig.html#263" class="Function Operator">⊕</a> <a id="454" href="Scoped.Sig.html#526" class="Generalizable">σ</a><a id="455" class="Symbol">)</a> <a id="457" href="Scoped.Sig.html#540" class="Generalizable">γ</a> <a id="459" href="Scoped.Prog.html#129" class="Generalizable">A</a> <a id="461" class="Symbol">→</a> <a id="463" href="Scoped.Prog.html#158" class="Datatype">Prog</a> <a id="468" href="Scoped.Sig.html#526" class="Generalizable">σ</a> <a id="470" href="Scoped.Sig.html#540" class="Generalizable">γ</a> <a id="472" class="Symbol">(</a><a id="473" href="Scoped.Prog.html#129" class="Generalizable">A</a> <a id="475" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="477" href="Scoped.State.html#411" class="Generalizable">S</a><a id="478" class="Symbol">)</a>
  <a id="482" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="487" href="Scoped.State.html#487" class="Bound">s</a>  <a id="490" class="Symbol">(</a><a id="491" href="Scoped.Prog.html#202" class="InductiveConstructor">var</a> <a id="495" href="Scoped.State.html#495" class="Bound">x</a><a id="496" class="Symbol">)</a> <a id="498" class="Symbol">=</a> <a id="500" href="Scoped.Prog.html#202" class="InductiveConstructor">var</a> <a id="504" class="Symbol">(</a><a id="505" href="Scoped.State.html#495" class="Bound">x</a> <a id="507" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="509" href="Scoped.State.html#487" class="Bound">s</a><a id="510" class="Symbol">)</a>
  <a id="514" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="519" href="Scoped.State.html#519" class="Bound">s</a>  <a id="522" class="Symbol">(</a><a id="523" href="Scoped.Prog.html#229" class="InductiveConstructor">op</a> <a id="526" class="Symbol">(</a><a id="527" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="532" href="Scoped.State.html#239" class="InductiveConstructor">`get</a><a id="536" class="Symbol">)</a> <a id="538" href="Scoped.State.html#538" class="Bound">k</a><a id="539" class="Symbol">)</a> <a id="541" class="Symbol">=</a> <a id="543" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="548" href="Scoped.State.html#519" class="Bound">s</a> <a id="550" class="Symbol">(</a><a id="551" href="Scoped.State.html#538" class="Bound">k</a> <a id="553" href="Scoped.State.html#519" class="Bound">s</a><a id="554" class="Symbol">)</a>
  <a id="558" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="563" class="Symbol">_</a>  <a id="566" class="Symbol">(</a><a id="567" href="Scoped.Prog.html#229" class="InductiveConstructor">op</a> <a id="570" class="Symbol">(</a><a id="571" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="576" class="Symbol">(</a><a id="577" href="Scoped.State.html#261" class="InductiveConstructor">`put</a> <a id="582" href="Scoped.State.html#582" class="Bound">s</a><a id="583" class="Symbol">))</a> <a id="586" href="Scoped.State.html#586" class="Bound">k</a><a id="587" class="Symbol">)</a> <a id="589" class="Symbol">=</a> <a id="591" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="596" href="Scoped.State.html#582" class="Bound">s</a> <a id="598" class="Symbol">(</a><a id="599" href="Scoped.State.html#586" class="Bound">k</a> <a id="601" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="603" class="Symbol">)</a>
  <a id="607" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="612" href="Scoped.State.html#612" class="Bound">s</a>  <a id="615" class="Symbol">(</a><a id="616" href="Scoped.Prog.html#229" class="InductiveConstructor">op</a> <a id="619" class="Symbol">(</a><a id="620" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="625" href="Scoped.State.html#625" class="Bound">y</a><a id="626" class="Symbol">)</a> <a id="628" href="Scoped.State.html#628" class="Bound">k</a><a id="629" class="Symbol">)</a> <a id="631" class="Symbol">=</a> <a id="633" href="Scoped.Prog.html#229" class="InductiveConstructor">op</a> <a id="636" href="Scoped.State.html#625" class="Bound">y</a> <a id="638" class="Symbol">(</a><a id="639" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="644" href="Scoped.State.html#612" class="Bound">s</a> <a id="646" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="648" href="Scoped.State.html#628" class="Bound">k</a><a id="649" class="Symbol">)</a>
  <a id="653" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="658" href="Scoped.State.html#658" class="Bound">s</a>  <a id="661" class="Symbol">(</a><a id="662" href="Scoped.Prog.html#287" class="InductiveConstructor">scope</a> <a id="668" href="Scoped.State.html#668" class="Bound">g</a> <a id="670" href="Scoped.State.html#670" class="Bound">sc</a> <a id="673" href="Scoped.State.html#673" class="Bound">k</a><a id="674" class="Symbol">)</a> <a id="676" class="Symbol">=</a>
    <a id="682" href="Scoped.Prog.html#287" class="InductiveConstructor">scope</a> <a id="688" href="Scoped.State.html#668" class="Bound">g</a> <a id="690" class="Symbol">(</a><a id="691" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="696" href="Scoped.State.html#658" class="Bound">s</a> <a id="698" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="700" href="Scoped.State.html#670" class="Bound">sc</a><a id="702" class="Symbol">)</a> <a id="704" class="Symbol">(λ{</a> <a id="708" class="Symbol">(</a><a id="709" href="Scoped.State.html#709" class="Bound">x</a> <a id="711" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="713" href="Scoped.State.html#713" class="Bound">s</a><a id="714" class="Symbol">)</a> <a id="716" class="Symbol">→</a> <a id="718" href="Scoped.State.html#424" class="Function">hSt&#39;</a> <a id="723" href="Scoped.State.html#713" class="Bound">s</a> <a id="725" class="Symbol">(</a><a id="726" href="Scoped.State.html#673" class="Bound">k</a> <a id="728" href="Scoped.State.html#709" class="Bound">x</a><a id="729" class="Symbol">)</a> <a id="731" class="Symbol">})</a>
</pre></body></html>